import{r as o,h as t,c as r,H as i}from"./p-0904b1e4.js";const s=class{constructor(t){o(this,t)}render(){return t("div",{class:"lds-ripple"},t("div",null),t("div",null))}};s.style=".lds-ripple{display:inline-block;position:relative;width:80px;height:80px;-ms-flex-item-align:center;align-self:center}.lds-ripple div{position:absolute;border:4px solid var(--color-primary-text, dimgray);opacity:1;border-radius:50%;-webkit-animation:lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;animation:lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite}.lds-ripple div:nth-child(2){-webkit-animation-delay:-0.5s;animation-delay:-0.5s}@-webkit-keyframes lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}100%{top:0px;left:0px;width:72px;height:72px;opacity:0}}@keyframes lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}100%{top:0px;left:0px;width:72px;height:72px;opacity:0}}";const e="529e8a14a3msh3efa9bdbdcd7652p10243bjsn5b84627ae594",a=class{constructor(t){o(this,t),this.input="",this.searchResult=[],this.loading=!1,this.findCorp=o=>{o.preventDefault(),this.fetchCorp(this.input)},this.onSelectSymbol=o=>{this.rsOnSelectSymbol.emit(o)},this.onInput=o=>{this.input=o.target.value},this.fetchCorp=o=>{this.loading=!0;const t=new Headers({"x-rapidapi-host":"alpha-vantage.p.rapidapi.com","x-rapidapi-key":`${e}`,useQueryString:"true"});fetch(`https://alpha-vantage.p.rapidapi.com/query?function=SYMBOL_SEARCH&keywords=${o}`,{headers:t}).then(o=>o.json()).then(o=>{if(!o.bestMatches)throw new Error(o["Error Message"]||o.message);this.loading=!1,this.searchResult=o.bestMatches.map(o=>({symbol:o["1. symbol"],name:o["2. name"]}))}).catch(o=>{this.loading=!1,console.error(o)})},this.rsOnSelectSymbol=r(this,"rsOnSelectSymbol",7)}render(){return[t("form",{id:"stock-form",onSubmit:this.findCorp},t("label",null,"Nome da Empresa:"),t("input",{id:"stock-symbol",onInput:o=>this.onInput(o)}),t("button",{type:"submit",disabled:this.input.length<1||this.loading},"Pesquisar")),t("div",{id:"stock-list"},this.loading?t("rs-spinner",null):t("ul",null,this.searchResult.map(o=>t("li",{onClick:()=>this.onSelectSymbol(o.symbol)},t("b",{class:"symbol"},o.symbol,":"),t("span",null,o.name)))))]}};a.style=":host{font-family:monospace;background-color:var(--color-primary, #e9e9e9);-webkit-box-shadow:0 2px 8px rgba(0, 0, 0, 0.26);box-shadow:0 2px 8px rgba(0, 0, 0, 0.26);width:30rem;padding:1rem;display:block;margin:0.5rem}:host *{font-family:monospace}#stock-form{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}#stock-form label{color:var(--color-primary-text, dimgray);font-weight:bold;display:inline-block;padding-right:0.5rem}#stock-form input{background-color:var(--color-secondary, #d6d5d5);color:var(--color-secondary-text, black);border-radius:3px;padding:0.2rem;-webkit-box-shadow:inset 0px 0px 0px rgba(0, 0, 0, 0.26), inset 0 1px 1px 1px rgba(0, 0, 0, 0.26), -1px -1px 4px 0px rgba(255, 255, 255, 1);box-shadow:inset 0px 0px 0px rgba(0, 0, 0, 0.26), inset 0 1px 1px 1px rgba(0, 0, 0, 0.26), -1px -1px 4px 0px rgba(255, 255, 255, 1);border:none;-webkit-transition:all 300ms ease-in-out 0ms;transition:all 300ms ease-in-out 0ms;margin-right:0.5rem}#stock-form input:focus{border:none;outline:none;-webkit-box-shadow:inset 0px -2px 0px rgba(0, 0, 0, 0.26), inset 0 1px 5px 1px rgba(0, 0, 0, 0.26), -1px -1px 4px 0px rgba(255, 255, 255, 1);box-shadow:inset 0px -2px 0px rgba(0, 0, 0, 0.26), inset 0 1px 5px 1px rgba(0, 0, 0, 0.26), -1px -1px 4px 0px rgba(255, 255, 255, 1)}#stock-form button{font-weight:bold;border-radius:3px;-webkit-box-sizing:border-box;box-sizing:border-box;border:none;background-color:transparent;-webkit-box-shadow:-1px -1px 4px 1px rgba(255, 255, 255, 1), 0 2px 8px rgba(0, 0, 0, 0.26);box-shadow:-1px -1px 4px 1px rgba(255, 255, 255, 1), 0 2px 8px rgba(0, 0, 0, 0.26);color:var(--color-primary-text, dimgray);border-radius:none;padding:0.2rem 1rem;-webkit-transition:all 300ms ease-in-out 0ms;transition:all 300ms ease-in-out 0ms;cursor:pointer}#stock-form button:hover{color:var(--color-secondary-text, black);-webkit-box-shadow:-2px -2px 3px 1px rgba(255, 255, 255, 1), 1px 1px 4px 1px rgba(0, 0, 0, 0.5);box-shadow:-2px -2px 3px 1px rgba(255, 255, 255, 1), 1px 1px 4px 1px rgba(0, 0, 0, 0.5)}#stock-form button:focus{border:none;outline:none;color:var(--color-secondary-text,black);-webkit-box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.5), 0 0 0 rgba(0, 0, 0, 0);box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.5), 0 0 0 rgba(0, 0, 0, 0)}#stock-form button:disabled{-webkit-box-shadow:inset 0px 0px 1px 1px rgba(0, 0, 0, 0.25);box-shadow:inset 0px 0px 1px 1px rgba(0, 0, 0, 0.25);color:var(--color-terciary-text,#ccc);cursor:not-allowed}#stock-list{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;margin-top:1rem}#stock-list ul{margin:1rem 0.5rem;padding:0;width:80%}#stock-list ul li{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;cursor:pointer}#stock-list ul li *{text-align:left;padding:0.2rem;color:var(--color-primary-text, dimgray)}#stock-list ul li b{width:25%}#stock-list ul li span{width:75%}#stock-list ul li:nth-child(even){-webkit-box-shadow:-2px -2px 2px -1px rgba(255,255, 255, 1), 2px 2px 2px -2px rgba(0,0, 0, 0.3);box-shadow:-2px -2px 2px -1px rgba(255,255, 255, 1), 2px 2px 2px -2px rgba(0,0, 0, 0.3);border-radius:3px;-webkit-box-sizing:border-box;box-sizing:border-box;background:var(--color-terciary, #dfdede)}";const p=class{constructor(t){o(this,t),this.stockSymbol=null,this.price=0,this.symbol=null,this.validation={symbol:!1},this.error=null,this.loading=!1,this.onInput=(o,t)=>{this[t]=o.target.value,this[t].trim().length>=2?this.validation[t]=!0:(this.validation[t]=!1,this.price=null)},this.onSubmit=o=>{o.preventDefault(),this.stockSymbol=this.symbol},this.fetchStockPrice=(o,t=null)=>{this.loading=!0;const r=new Headers({"x-rapidapi-host":"alpha-vantage.p.rapidapi.com","x-rapidapi-key":`${e}`,useQueryString:"true"});fetch(`https://alpha-vantage.p.rapidapi.com/query?function=GLOBAL_QUOTE&symbol=${o}`,{headers:r}).then(o=>o.json()).then(r=>{if(!r["Global Quote"]||Object.keys(r["Global Quote"]).length<1)throw Object.keys(r["Global Quote"]).length<1&&(r.message="Invalid Symbol"),new Error(r["Error Message"]||r.message);this.price=+r["Global Quote"]["05. price"],this.error=null,t!==o&&(this.symbol=o),this.loading=!1}).catch(o=>{this.error=o.message,console.error(this.error),this.loading=!1})}}componentDidLoad(){this.stockSymbol&&(this.validation.symbol=!0,this.fetchStockPrice(this.stockSymbol))}stockSymbolChanges(o,t){o!==t&&this.fetchStockPrice(o,t)}hostData(){return{class:this.error?"error":""}}onFinderSelectSymbol(o){console.log(o.detail),o.detail&&o.detail!==this.stockSymbol&&(this.stockSymbol=o.detail)}__stencil_render(){let o=this.loading?t("rs-spinner",null):t("p",{style:{color:"red"}},"Insira um simbolo valido!");return this.price&&!this.loading&&(o=t("p",null,"PreÃ§o: ",`$${this.price}`)),this.error&&this.loading&&(o=t("p",{style:{color:"red"}},this.error)),[t("form",{id:"stock-form",onSubmit:this.onSubmit},t("label",null,"Simbolo:"),t("input",{id:"stock-symbol",value:this.symbol,onInput:o=>this.onInput(o,"symbol")}),t("button",{type:"submit",disabled:!this.validation.symbol||this.loading},"fetch")),t("div",{class:"content-container"},t("h3",{style:{minHeight:"17.6px"}},this.symbol),o)]}static get watchers(){return{stockSymbol:["stockSymbolChanges"]}}render(){return t(i,this.hostData(),this.__stencil_render())}};p.style=":host{font-family:monospace;background-color:var(--color-primary, #e9e9e9);-webkit-box-shadow:0 2px 8px rgba(0, 0, 0, 0.26);box-shadow:0 2px 8px rgba(0, 0, 0, 0.26);width:30rem;padding:1rem;display:block;margin:0.5rem}:host *{font-family:monospace}#stock-form{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}#stock-form label{color:var(--color-primary-text, dimgray);font-weight:bold;display:inline-block;padding-right:0.5rem}#stock-form input{background-color:var(--color-secondary, #d6d5d5);color:var(--color-secondary-text, black);border-radius:3px;padding:0.2rem;-webkit-box-shadow:inset 0px 0px 0px rgba(0, 0, 0, 0.26), inset 0 1px 1px 1px rgba(0, 0, 0, 0.26), -1px -1px 4px 0px rgba(255, 255, 255, 1);box-shadow:inset 0px 0px 0px rgba(0, 0, 0, 0.26), inset 0 1px 1px 1px rgba(0, 0, 0, 0.26), -1px -1px 4px 0px rgba(255, 255, 255, 1);border:none;-webkit-transition:all 300ms ease-in-out 0ms;transition:all 300ms ease-in-out 0ms;margin-right:0.5rem}#stock-form input:focus{border:none;outline:none;-webkit-box-shadow:inset 0px -2px 0px rgba(0, 0, 0, 0.26), inset 0 1px 5px 1px rgba(0, 0, 0, 0.26), -1px -1px 4px 0px rgba(255, 255, 255, 1);box-shadow:inset 0px -2px 0px rgba(0, 0, 0, 0.26), inset 0 1px 5px 1px rgba(0, 0, 0, 0.26), -1px -1px 4px 0px rgba(255, 255, 255, 1)}#stock-form button{font-weight:bold;border-radius:3px;-webkit-box-sizing:border-box;box-sizing:border-box;border:none;background-color:transparent;-webkit-box-shadow:-1px -1px 4px 1px rgba(255, 255, 255, 1), 0 2px 8px rgba(0, 0, 0, 0.26);box-shadow:-1px -1px 4px 1px rgba(255, 255, 255, 1), 0 2px 8px rgba(0, 0, 0, 0.26);color:var(--color-primary-text, dimgray);border-radius:none;padding:0.2rem 1rem;-webkit-transition:all 300ms ease-in-out 0ms;transition:all 300ms ease-in-out 0ms;cursor:pointer}#stock-form button:hover{color:var(--color-secondary-text, black);-webkit-box-shadow:-2px -2px 3px 1px rgba(255, 255, 255, 1), 1px 1px 4px 1px rgba(0, 0, 0, 0.5);box-shadow:-2px -2px 3px 1px rgba(255, 255, 255, 1), 1px 1px 4px 1px rgba(0, 0, 0, 0.5)}#stock-form button:focus{border:none;outline:none;color:var(--color-secondary-text,black);-webkit-box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.5), 0 0 0 rgba(0, 0, 0, 0);box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.5), 0 0 0 rgba(0, 0, 0, 0)}#stock-form button:disabled{-webkit-box-shadow:inset 0px 0px 1px 1px rgba(0, 0, 0, 0.25);box-shadow:inset 0px 0px 1px 1px rgba(0, 0, 0, 0.25);color:var(--color-terciary-text,#ccc);cursor:not-allowed}.content-container{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column}.content-container rs-spinner{-ms-flex-item-align:center;align-self:center}";export{s as rs_spinner,a as rs_stock_finder,p as rs_stock_price}